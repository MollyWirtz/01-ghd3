<script src="https://d3js.org/d3.v6.min.js"></script>

<svg id="vis"></svg>

<script>
  console.log(d3); // test if d3 is loaded

  // Add an SVG
  var svg = d3.select('#vis')
  .attr('width', '100%')
  .attr('height', '100%')
  .style('background-color', 'black')

  // Add Rectangles
  var squareData = [89, 33, 45, 22, 1]

  var xscale = d3.scaleLinear()
  .domain([0, 100])
  .range([0, 400])

  svg.selectAll('rect')
  .data(squareData)
  .enter()
  .append('rect')
  .attr('x', function(d) { return xscale(d) })
  .attr('y', 50)
  .attr('width', 20)
  .attr('height', 20)
  .attr('fill', 'green')
  .on('mouseover', function() {
    d3.select(this).attr('fill', 'red')
  })

  // Add Circles
  var circleData = [19, 50, 2, 73]

  var yscale = d3.scaleLinear()
  .domain([0, 100])
  .range([0, 400])

  svg.selectAll('circle')
  .data(circleData)
  .enter()
  .append('circle')
  .attr('cx', 100)
  .attr('cy', function(d) { return yscale(d) })
  .attr('r', 5)
  .attr('fill', 'steelblue')
  .on('mouseover', function() {
    d3.select(this).attr('fill', 'brown')
  })

  // Add Lines
  svg.append('line')
  .style("stroke", "orange")
  .style("stroke-width", 10)
  .attr("x1", 0)
  .attr("y1", 0)
  .attr("x2", 400)
  .attr("y2", 400)

  // Add Polygons
  var polygonData = [ [200, 10], [250, 190], [160, 210] ]

  var hull = d3.polygonHull(polygonData)
  var line = d3.line().curve(d3.curveLinearClosed)

  svg.append("path")
  .attr("d", line(hull))
  .attr("fill", "yellow")

  svg.selectAll('polygon')
  .data(polygonData)
  .enter()
  .append('polygon')

  // Text
  var txtData = ["CS 4802 - BioVisualization"]

  // d3.select("body")
  svg.selectAll('text')
  .data(txtData)
  .enter()
  .append('text')
  .text(function (d) {
    return d
  })
  .style("font-size", 20)
  .style("fill", "white")
  .attr("x", 100)
  .attr("y", 100)

</script>

<body style="margin: 0;"></body>
