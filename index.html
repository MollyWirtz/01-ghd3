<script src="https://d3js.org/d3.v6.min.js"></script>

<svg id="vis"></svg>

<script>
  // Add an SVG
  var svg = d3.select('#vis')
  .attr('width', '100%')
  .attr('height', '100%')
  .style('background-color', 'black')


  // Data
  var squareData = []
  var circleData = []
  var polygonData = [ [0, 325], [25, 325], [12.5, 300] ]
  var txtData = ['CS 4802 - BioVisualization']

  // Settings
  var numPrimitives = 50
  var width = document.getElementById('vis').clientWidth
  var height = document.getElementById('vis').clientWidth


  // Helper functions
  var xscale = d3.scaleLinear()
  .domain([0, 100])
  .range([0, width])

  function populateWithPrimitives(primitiveData) {
    for (var i = 0 ; i < numPrimitives ; i++) {
      primitiveData.push({x: Math.floor(Math.floor(Math.random() * 101)), y: Math.floor(Math.floor(Math.random() * 101))})
    }
  }


  // Add Rectangles
  // svg.selectAll('rect')
  // .data(squareData)
  // .enter()
  // .append('rect')
  // .attr('x', function(d) { return xscale(d) })
  // .attr('y', 150)
  // .attr('width', 20)
  // .attr('height', 20)
  // .attr('fill', '#6564A6')
  // .on('mouseover', function() {
  //   d3.select(this).attr('fill', '#6564A6')
  // })

  populateWithPrimitives(squareData)

  svg.selectAll('rect')
  .data(squareData)
  .enter()
  .append('rect')
  .attr('x', function(d) { return xscale(d.x) })
  .attr('y', function(d) { return xscale(d.y) })
  .attr('width', 20)
  .attr('height', 20)
  .attr('fill', '#6564A6')


  // Add Circles
  populateWithPrimitives(circleData)

  svg.selectAll('circle')
  .data(circleData)
  .enter()
  .append('circle')
  .attr('cx', function(d) { return xscale(d.x) })
  .attr('cy', function(d) { return xscale(d.y) })
  .attr('r', 10)
  .attr('fill', '#30C0D9')
  .on('mouseover', function() {
    d3.select(this).attr('fill', 'brown')
  })


  // Add Lines
  svg.append('line')
  .attr('x1', 0)
  .attr('y1', 250)
  .attr('x2', 400)
  .attr('y2', 250)
  .style('stroke', '#81F495')
  .style('stroke-width', 10)


  // Add Polygons
  var hull = d3.polygonHull(polygonData)
  var line = d3.line().curve(d3.curveLinearClosed)

  svg.append('path')
  .attr('d', line(hull))
  .attr('fill', '#F3E43E')

  
  // Text
  svg.selectAll('text')
  .data(txtData)
  .enter()
  .append('text')
  .text(function (d) {
    return d
  })
  .attr('text-anchor', 'middle')
  .attr('x', '50%')
  .attr('y', '10%')
  .style('font-size', 32)
  .style('fill', 'white')
  .style('font-weight', 700)

</script>

<body style="margin: 0;"></body>
